<div class="calendar-container">
  <!-- Hero Section -->
  <app-calendar-hero></app-calendar-hero>

  <!-- Main Content -->
  <div class="main-content">
    <!-- Calendar Grid -->
    <div class="calendar-section">
      <app-calendar-grid
        (daySelected)="onDaySelected($event)"
        (matchesPopup)="onMatchesPopup($event)">
      </app-calendar-grid>
    </div>

    <!-- Sidebar -->
    <div class="sidebar-section">
      <app-calendar-sidebar></app-calendar-sidebar>
    </div>
  </div>

  <!-- Popup Modal para mÃºltiplos jogos -->
  <div
    (click)="onPopupBackgroundClick($event)"
    *ngIf="isPopupOpen"
    class="popup-overlay">

    <div (click)="$event.stopPropagation()" class="popup-content">
      <!-- Header do Popup -->
      <div class="popup-header">
        <h3>
          <i class="fas fa-calendar-check"></i>
          Jogos de {{ popupDateFormatted }}
        </h3>
        <button (click)="closePopup()" class="close-btn" title="Fechar">
          <i class="fas fa-times"></i>
        </button>
      </div>

      <!-- Lista de jogos -->
      <div class="popup-matches">
        <app-match-card
          (matchClick)="onMatchClick($event)"
          *ngFor="let match of popupMatches; trackBy: trackByMatchId"
          [match]="match"
          [variant]="'compact'"
          class="popup-match-card">
        </app-match-card>
      </div>

      <!-- Footer do popup -->
      <div class="popup-footer">
        <p class="matches-summary">
          {{ popupMatches.length }} jogo{{ popupMatches.length !== 1 ? 's' : '' }}
          programado{{ popupMatches.length !== 1 ? 's' : '' }} para este dia
        </p>
      </div>
    </div>
  </div>
</div>
